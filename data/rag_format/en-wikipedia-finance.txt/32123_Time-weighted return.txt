Time-weighted return


# Time-weighted return



The **time-weighted return (TWR)** is a method of calculating investment return, where returns over sub-periods are compounded together, with each sub-period weighted according to its duration.
The time-weighted method differs from other methods of calculating investment return, in the particular way it compensates for external flows.


## External flows

The time-weighted return is a measure of the historical performance of an investment portfolio which compensates for *external flows*. External flows refer to the net movements of value into or out of a portfolio, stemming from transfers of cash, securities, or other financial instruments. These flows are characterized by the absence of a concurrent, equal, and opposite value transaction, unlike what occurs in purchases or sales. Furthermore, they do not originate from the income generated by the portfolio's investments, such as interest, coupons, or dividends.

To compensate for external flows, the overall time interval under analysis is divided into contiguous sub-periods at each point in time within the overall time period whenever there is an external flow. In general, these sub-periods will be of unequal lengths. The returns over the sub-periods between external flows are linked geometrically (compounded) together, i.e. by multiplying together the growth factors in all the sub-periods. The growth factor in each sub-period is equal to 1 plus the return over the sub-period.


### The problem of external flows

To illustrate the problem of external flows, consider the following example.


#### Example 1

Suppose an investor transfers $500 into a portfolio at the beginning of Year 1, and another $1,000 at the beginning of Year 2, and the portfolio has a total value of $1,500 at the end of the Year 2. The net gain over the two-year period is zero, so intuitively, we might expect that the return over the whole 2-year period to be 0% (which is incidentally the result of applying one of the money-weighted methods). If the cash flow of $1,000 at the beginning of Year 2 is ignored, then the simple method of calculating the return without compensating for the flow will be 200% ($1,000 divided by $500). Intuitively, 200% is incorrect.

If we add further information however, a different picture emerges. If the initial investment gained 100% in value over the first year, but the portfolio then declined by 25% during the second year, we would expect the overall return over the two-year period to be the result of compounding a 100% gain ($500) with a 25% loss ($500). The time-weighted return is found by multiplying together the growth factors for each year, i.e. the growth factors before and after the second transfer into the portfolio, then subtracting one, and expressing the result as a percentage:

We can see from the time-weighted return that the absence of any net gain over the two-year period was due to bad timing of the cash inflow at the beginning of the second year.

The time-weighted return appears in this example to overstate the return to the investor, because he sees no net gain. However, by reflecting the performance each year compounded together on an equalized basis, the time-weighted return recognizes the performance of the investment activity independently of the poor timing of the cash flow at the beginning of Year 2. If all the money had been invested at the beginning of Year 1, the return by any measure would most likely have been 50%. $1,500 would have grown by 100% to $3,000 at the end of Year 1, and then declined by 25% to $2,250 at the end of Year 2, resulting in an overall gain of $750, i.e. 50% of $1,500. The difference is a matter of perspective.


### Adjustment for flows

The return of a portfolio in the absence of flows is:

where {\displaystyle M\_{2}} is the portfolio's final value, {\displaystyle M\_{1}} is the portfolio's initial value, and {\displaystyle R} is the portfolio's return over the period.

The growth factor is:

External flows during the period being analyzed complicate the performance calculation. If external flows are not taken into account, the performance measurement is distorted: A flow into the portfolio would cause this method to overstate the true performance, while flows out of the portfolio would cause it to understate the true performance.

To compensate for an external flow {\displaystyle C\_{1}} into the portfolio at the *beginning* of the period, adjust the portfolio's initial value {\displaystyle M\_{1}} by adding {\displaystyle C\_{1}}. The return is:

and the corresponding growth factor is:

To compensate for an external flow {\displaystyle C\_{2}} into the portfolio just before the valuation {\displaystyle M\_{2}} at the *end* of the period, adjust the portfolio's final value {\displaystyle M\_{2}} by subtracting {\displaystyle C\_{2}}. The return is:

and the corresponding growth factor is:


### Time-weighted return compensating for external flows

Suppose that the portfolio is valued immediately after each external flow. The value of the portfolio at the end of each sub-period is adjusted for the external flow which takes place immediately before. External flows into the portfolio are considered positive, and flows out of the portfolio are negative.

where

and

If there is an external flow occurring at the end of the overall period, then the number of sub-periods {\displaystyle n} matches the number of flows. However, if there is no flow at the end of the overall period, then {\displaystyle C\_{n}} is zero, and the number of sub-periods {\displaystyle n} is one greater than the number of flows.

If the portfolio is valued immediately before each flow instead of immediately after, then each flow should be used to adjust the starting value within each sub-period, instead of the ending value, resulting in a different formula:

where

and


## Explanation


### Why it is called "time-weighted"

The term *time-weighted* is best illustrated with *continuous (logarithmic) rates of return*. The overall rate of return is the time-weighted average of the continuous rate of return in each sub-period.

In the absence of flows,

where {\displaystyle r\_{\mathrm {log} }} is the *continuous rate of return* and {\displaystyle t} is the length of time.


#### Example 2

Over a period of a decade, a portfolio grows by a continuous rate of return of 5% p.a. (per annum) over three of those years, and 10% p.a. over the other seven years.

The continuous time-weighted rate of return over the ten-year period is the time-weighted average:


### Ordinary time-weighted rate of return


#### Example 3

Consider another example to calculate the annualized ordinary rate of return over a five-year period of an investment that returns 10% p.a. for two of the five years and -3% p.a. for the other three. The ordinary time-weighted return over the five-year period is:

and after annualization, the rate of return is:

The length of time over which the rate of return was 10% was two years, which appears in the power of two on the 1.1 factor:

Likewise, the rate of return was -3% for three years, which appears in the power of three on the 0.97 factor. The result is then annualized over the overall five-year period.


## Portfolio performance measurement

Investment managers are judged on investment activity which is under their control. If they have no control over the timing of flows, then compensating for the timing of flows, applying the true time-weighted return method to a portfolio, is a superior measure of the performance of the investment manager, at the overall portfolio level.


### Internal flows and the performance of elements within a portfolio

*Internal flows* are transactions such as purchases and sales of holdings within a portfolio, in which the cash used for purchases, and the cash proceeds of sales, is also contained in the same portfolio, so there is no external flow. A cash dividend on a stock in a portfolio, which is retained in the same portfolio as the stock, is a flow from the stock to the cash account within the portfolio. It is internal to the portfolio, but external to both the stock and the cash account when they are considered individually, in isolation from one another.

The time-weighted method only captures the effect attributable to the size and timing of internal flows in aggregate (i.e., insofar as they result in the overall performance of the portfolio). This is for the same reason, that the time-weighted method neutralizes the effect of flows. It therefore does not capture the performance of parts of a portfolio, such as the performance due to individual security-level decisions, so effectively as it captures the overall portfolio performance.

The time-weighted return of a particular security, from initial purchase to eventual final sale, is the same, regardless of the presence or absence of interim purchases and sales, their timing, size and the prevailing market conditions. It always matches the share price performance (including dividends, etc.). Unless this feature of the time-weighted return is the desired objective, it arguably makes the time-weighted method less informative than alternative methodologies for investment performance attribution at the level of individual instruments. For performance attribution at individual security level to be meaningful in many cases depends on the return being different from the share price return. If the individual security return matches the share price return, the transaction timing effect is zero.

See Example 4 below, which illustrates this feature of the time-weighted method.


#### Example 4

Let us imagine an investor purchases 10 shares at 10 dollars per share. Then the investor adds another 5 shares in the same company bought at the market price of 12 dollars per share (ignoring transaction costs). The entire holding of 15 shares is then sold at 11 dollars per share.

The second purchase appears to be badly timed, compared with the first. Is this poor timing apparent, from the time-weighted (holding-period) return of the shares, in isolation from the cash in the portfolio?

To calculate the time-weighted return of these particular shareholdings, in isolation from the cash used to purchase the shares, treat the purchase of shares as an external inflow. Then the first sub-period growth factor, preceding the second purchase, when there are just the first 10 shares, is:

and growth factor over the second sub-period, following the second purchase, when there are 15 shares altogether, is:

so the overall period growth factor is:

and the time-weighted holding-period return is:

which is the same as the simple return calculated using the change in the share price:

The poor timing of the second purchase has made no difference to the performance of the investment in shares, calculated using the time-weighted method, compared, for instance, with a pure buy-and-hold strategy (i.e., buying all the shares at the beginning and holding them until the end of the period).


## Comparison with other returns methods

Other methods exist to compensate for external flows when calculating investment returns. Such methods are known as "money-weighted" or "dollar-weighted" methods. The time-weighted return is higher than the result of other methods of calculating the investment return when external flows are badly timed - refer to Example 4 above.


### Internal rate of return

One of these methods is the internal rate of return. Like the true time-weighted return method, the internal rate of return is also based on a compounding principle. It is the discount rate that will set the net present value of all external flows and the terminal value equal to the value of the initial investment. However, solving the equation to find an estimate of the internal rate of return generally requires an iterative numerical method and sometimes returns multiple results.

The internal rate of return is commonly used for measuring the performance of private equity investments, because the principal partner (the investment manager) has greater control over the timing of cash flows, rather than the limited partner (the end investor).


### Simple Dietz method

The Simple Dietz method applies a simple rate of interest principle, as opposed to the compounding principle underlying the internal rate of return method, and further assumes that flows occur at the midpoint within the time interval (or equivalently that they are distributed evenly throughout the time interval). However, the Simple Dietz method is unsuitable when such assumptions are invalid and will produce different results from those of other methods in such a case.

The simple Dietz returns of two or more different constituent assets in a portfolio over the same period can be combined to derive the simple Dietz portfolio return, by taking the weighted average. The weights are the start value plus half the net inflow.


#### Example 5

Applying the Simple Dietz method to the shares purchased in Example 4 (above):

so

which is noticeably lower than the 10% time-weighted return.


### Modified Dietz method

The modified Dietz method is another method that, like the simple Dietz method, applies a simple rate of interest principle. Instead of comparing the gain in value (net of flows) with the initial value of the portfolio, it compares the net gain in value with average capital over the time interval. Average capital allows for the timing of each external flow. Since the difference between the modified Dietz method and the internal rate of return method is that the modified Dietz method is based on a simple rate of interest principle whereas the internal rate of return method applies a compounding principle, the two methods produce similar results over short time intervals, if the rates of return are low. Over longer time periods, with significant flows relative to the size of the portfolio, and where the returns are not low, then the differences are more significant.

Like the simple Dietz method, the modified Dietz returns of two or more different constituent assets in a portfolio over the same period can be combined to derive the modified Dietz portfolio return, by taking the weighted average. The weight to be applied to the return on each asset in this case is the average capital of the asset.


#### Example 6

Referring again to the scenario described in Examples 4 and 5, if the second purchase occurs exactly halfway through the overall period, the modified Dietz method has the same result as the simple Dietz method.

If the second purchase is earlier than halfway through the overall period, the gain, which is 5 dollars, is still the same, but the average capital is greater than the start value plus half the net inflow, making the denominator of the modified Dietz return greater than that in the simple Dietz method. In this case, the Modified Dietz return is less than the Simple Dietz return.

If the second purchase is later than halfway through the overall period, the gain, which is 5 dollars, is still the same, but the average capital is less than the start value plus half the net inflow, making the denominator of the modified Dietz return less than that in the simple Dietz method. In this case, the Modified Dietz return is greater than the Simple Dietz return.

No matter how late during the period the second purchase of shares occurs, the average capital is greater than 100, and so the Modified Dietz return is less than 5 percent. This is still noticeably less than the 10 percent time weighted return.


### Linked returns methods

Calculating the "true time-weighted return" depends on the availability of portfolio valuations during the investment period. If valuations are not available when each flow occurs, the time-weighted return can only be estimated by linking returns for contiguous sub-periods together geometrically, using sub-periods at the end of which valuations are available. Such an approximate time-weighted return method is prone to overstate or understate the true time-weighted return.

*Linked Internal Rate of Return (LIROR)* is another such method that is sometimes used to approximate the true time-weighted return. It combines the true time-weighted rate of return method with the internal rate of return (IRR) method. The internal rate of return is estimated over regular time intervals, and then the results are linked geometrically. For example, if the internal rate of return over successive years is 4%, 9%, 5% and 11%, then the LIROR equals 1.04 x 1.09 x 1.05 x 1.11 – 1 = 32.12%. If the regular time periods are not years, then calculate either the un-annualized holding period version of the IRR for each time interval or the IRR for each time interval firstly, then convert each one to a holding period return over the time interval, and then link together these holding period returns to obtain the LIROR.


### Returns methods in the absence of flows

If there are no external flows, then all of these methods (time-weighted return, internal rate of return, modified Dietz Method, etc.) give identical results - it is only the various ways they handle flows that makes them different from each other.


## Logarithmic returns

The *continuous* or *logarithmic return* method is not a competing method of compensating for flows. It is simply the natural logarithm {\displaystyle ln\left({\frac {M\_{2}}{M\_{1}}}\right)} of the growth factor.


## Fees

To measure returns net of fees, allow the value of the portfolio to be reduced by the amount of the fees. To calculate returns gross of fees, compensate for them by treating them as an external flow, and exclude the negative effect of accrued fees from valuations.


## Annual rate of return

*Return* and *rate of return* are sometimes treated as interchangeable terms, but the return calculated by a method such as the time-weighted method is the holding period return per dollar (or per some other unit of currency), not per year (or other unit of time), unless the holding period happens to be one year. Annualization, which means conversion to an annual rate of return, is a separate process. Refer to the article rate of return.

